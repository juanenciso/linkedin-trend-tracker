def z_score(value: float, mean: float, std: float) -> float:
    if std == 0 or std is None:
        return 0.0
    return (value - mean) / std


def trend_score(current: dict, baseline: dict) -> float:
    z_velocity = z_score(
        current["velocity"],
        baseline["velocity_mean"],
        baseline["velocity_std"],
    )
    z_engagement = z_score(
        current["engagement_rate"],
        baseline["engagement_mean"],
        baseline["engagement_std"],
    )
    z_share = z_score(
        current["share_rate"],
        baseline["share_mean"],
        baseline["share_std"],
    )

    score = 0.6 * z_velocity + 0.3 * z_engagement + 0.1 * z_share
    return round(float(score), 2)
